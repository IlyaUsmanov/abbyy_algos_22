Посмотрим на произвольную точку, тогда высота воды в ней определяется высотой двух стенок - левой и правой, точнее будет равна минимум этих высот, а стенками этими будут соотвественно максимально высокая точка слева и максимально высокая точка справа, значит найдем префиксные максимумы - за линию, суффиксные - тоже за линию, и в каждой точке высота воды будем равна min(prefix_max, suffix_max)-height, т.е. вычитается высоат самой точки
