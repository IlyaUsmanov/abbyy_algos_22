Если представить себе вместо поля граф, в котором вершинами будут клетки, а ребрами - факт соседства по стороне, то задача становится эквивалентна нахождения числа компонент связности в этом графе, что можно сделать, запуская DFS последовательно из всех вершин, при условии, что они не были посещены ранее запущенным DFS-ом, ответом будет число запусков DFS-а
